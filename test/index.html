<html>
    <head>
            <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
        <script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script>
        <style>
        .bar {
	fill: #6F257F;
}
.axis path,
.axis line {
  fill: none;
  stroke: #D4D8DA;
  stroke-width: 1px;
  shape-rendering: crispEdges;
}
.x path {
	display: none;
}
.toolTip {
	position: absolute;
  display: none;
  min-width: 80px;
  height: auto;
  background: none repeat scroll 0 0 #ffffff;
  border: 1px solid #6F257F;
  padding: 14px;
  text-align: center;
}

.bar:hover {
  fill: brown;
}

.axis--x path {
  display: none;
}</style>
    </head>
    <body>
            <div id="bar-chart" class="story">
                    <svg width="960" height="500"></svg>
      
                  </div>
        
        <script>
                    //BASIC BAR CHART FROM BOSTOCK

                    var bar_svg = d3.select("#bar-chart svg"),
            bar_margin = {top: 20, right: 20, bottom: 30, left: 80},
            bar_width = +bar_svg.attr("width") - bar_margin.left - bar_margin.right,
            bar_height = +bar_svg.attr("height") - bar_margin.top - bar_margin.bottom;
          
            // var tooltip = d3.select("body").append("div").attr("class", "toolTip");
              
            var bar_x = d3.scaleLinear().range([0, bar_width]);
            var bar_y = d3.scaleBand().range([bar_height, 0]);
            
            var g = bar_svg.append("g")
                .attr("transform", "translate(" + bar_margin.left + "," + bar_margin.top + ")");
              
            d3.json("data/data.json", function(error, data) {
                if (error) throw error;
              
                data.sort(function(a, b) { return a.value - b.value; });
              
                bar_x.domain([0, d3.max(data, function(d) { return d.value; })]);
                bar_y.domain(data.map(function(d) { return d.area; })).padding(0.1);
            
                g.append("g")
                    .attr("class", "x axis")
                    .attr("transform", "translate(0," + bar_height + ")")
                    .call(d3.axisBottom(bar_x).ticks(5).tickFormat(function(d) { return parseInt(d / 1000); }).tickSizeInner([-bar_height]));
            
                g.append("g")
                    .attr("class", "y axis")
                    .call(d3.axisLeft(bar_y));
            
                g.selectAll(".bar")
                    .data(data)
                  .enter().append("rect")
                    .attr("class", "bar")
                    .attr("x", 0)
                    .attr("height", bar_y.bandwidth())
                    .attr("y", function(d) { return bar_y(d.area); })
                    .attr("width", function(d) { return bar_x(d.value); });
                    // .on("mousemove", function(d){
                    //     tooltip
                    //       .style("left", d3.event.pageX - 50 + "px")
                    //       .style("top", d3.event.pageY - 70 + "px")
                    //       .style("display", "inline-block")
                    //       .html((d.area) + "<br>" + "Â£" + (d.value));
                    // })
                    // .on("mouseout", function(d){ tooltip.style("display", "none");});
            });
        </script>
    </body>
</html>